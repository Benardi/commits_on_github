---
title: "Análise de commits no Github"
author: "José Benardi de Souza Nunes"
output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
---

<br>


```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(here)
library(tidyverse)
library(lubridate)
library(timeDate)

theme_set(theme_bw())
```

# Data Overview

```{r, warning=FALSE}
readr::read_csv(here::here("data/github-users-committing-filetypes.csv"),
                      progress = FALSE,
                      col_types = cols(
                        file_extension = col_character(),
                        month_day = col_integer(),
                        the_month = col_integer(),
                        the_year = col_integer(),
                        users = col_integer()
                        )) -> data
data %>% 
  glimpse()
```

## Was the commit made on a weekend ?

```{r}
data %>%
  mutate(isWeekend = timeDate::isWeekend(
    lubridate::ymd(paste(the_year,
                         the_month,
                         month_day)))) -> data
data %>%
  sample_n(10)
```

```{r}
data %>%
  ggplot(aes(isWeekend,
             y=(..count..)/sum(..count..),
             fill = isWeekend)) +
  geom_bar() + 
  labs(y="Frequência Relativa")
```


## File Extension

```{r}
data %>%
  group_by(file_extension) %>%
  summarise(frequency = n()) %>%
  ggplot(aes(x=reorder(file_extension,frequency),y = frequency)) + 
  geom_bar(stat="identity",position="dodge") +
  theme(axis.text.x = element_text(angle=60, hjust=1))
```


